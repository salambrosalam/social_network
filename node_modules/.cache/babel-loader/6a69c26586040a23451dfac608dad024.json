{"ast":null,"code":"import { usersAPI } from \"../api/api\";\nexport const ADD_POST = \"ADD_POST\";\nexport const SET_USER_PROFILE = \"SET_USER_PROFILE\";\nexport const SET_STATUS = \"SET_STATUS\";\nexport const UPDATE_STATUS = \"UPDATE_STATUS\";\nexport const DELETE_POST = \"DELETE_POST\";\nexport const SET_PHOTO = \"SET_PHOTO\";\nlet initialState = {\n  posts: [{\n    id: 1,\n    message: \"Hi,from Java man\",\n    likesCount: 25\n  }, {\n    id: 1,\n    message: \"Python the best_ ho-ho-ho\",\n    likesCount: 55\n  }],\n  profile: null,\n  status: \"\"\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let newPost = {\n          id: 5,\n          message: action.newPostBody,\n          likesCount: 100\n        };\n        return { ...state,\n          posts: [...state.posts, newPost]\n        };\n      }\n\n    case DELETE_POST:\n      return { ...state,\n        posts: state.posts.filter(post => post.id !== action.postId)\n      };\n\n    case SET_USER_PROFILE:\n      {\n        return { ...state,\n          profile: action.profile\n        };\n      }\n\n    case SET_STATUS:\n      {\n        return { ...state,\n          status: action.status\n        };\n      }\n\n    case SET_PHOTO:\n      {\n        return { ...state,\n          profile: { ...state.profile,\n            photos: action.payload\n          }\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport let addPostActionCreator = newPostBody => {\n  return {\n    type: ADD_POST,\n    newPostBody\n  };\n};\nexport let deletePostActionCreator = postId => {\n  return {\n    type: DELETE_POST,\n    postId\n  };\n};\nexport let setUserProfileActionCreator = profile => {\n  return {\n    type: SET_USER_PROFILE,\n    profile: profile\n  };\n};\nexport let setStatusActionCreator = status => {\n  return {\n    type: SET_STATUS,\n    status: status\n  };\n};\nexport let setPhotoActionCreator = photo => {\n  return {\n    type: SET_PHOTO,\n    payload: photo\n  };\n};\nexport let getStatusThunkCreator = userId => {\n  return async dispatch => {\n    let response = await usersAPI.getStatus(userId);\n    dispatch(setStatusActionCreator(response.data));\n  };\n};\nexport let updateStatusThunkCreator = status => {\n  return async dispatch => {\n    let response = await usersAPI.updateStatus(status);\n\n    if (response.data.resultCode === 0) {\n      dispatch(setStatusActionCreator(status));\n    }\n  };\n};\nexport const setUsersProfileThunkCreator = userId => {\n  return async dispatch => {\n    let response = await usersAPI.getProfile(userId);\n    dispatch(setUserProfileActionCreator(response.data));\n  };\n};\nexport const savePhotoThunkCreator = file => async dispatch => {\n  let response = await usersAPI.savePhoto(file);\n\n  if (response.data.resultCode === 0) {\n    dispatch(setPhotoActionCreator(response.data.photos));\n  }\n};\nexport default profileReducer;","map":{"version":3,"sources":["E:/react_projects/it-kamasutra/src/redux/profileReducer.js"],"names":["usersAPI","ADD_POST","SET_USER_PROFILE","SET_STATUS","UPDATE_STATUS","DELETE_POST","SET_PHOTO","initialState","posts","id","message","likesCount","profile","status","profileReducer","state","action","type","newPost","newPostBody","filter","post","postId","photos","payload","addPostActionCreator","deletePostActionCreator","setUserProfileActionCreator","setStatusActionCreator","setPhotoActionCreator","photo","getStatusThunkCreator","userId","dispatch","response","getStatus","data","updateStatusThunkCreator","updateStatus","resultCode","setUsersProfileThunkCreator","getProfile","savePhotoThunkCreator","file","savePhoto"],"mappings":"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","sourcesContent":["import {usersAPI} from \"../api/api\";\r\n\r\nexport const ADD_POST = \"ADD_POST\";\r\nexport const SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nexport const SET_STATUS = \"SET_STATUS\";\r\nexport const UPDATE_STATUS = \"UPDATE_STATUS\";\r\nexport const DELETE_POST = \"DELETE_POST\";\r\nexport const SET_PHOTO = \"SET_PHOTO\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi,from Java man\", likesCount: 25},\r\n        {id: 1, message: \"Python the best_ ho-ho-ho\", likesCount: 55}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostBody,\r\n                likesCount: 100\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId )\r\n            }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return{\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SET_PHOTO: {\r\n            return{\r\n                ...state,\r\n                profile: {...state.profile, photos: action.payload}\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\n\r\nexport let addPostActionCreator = (newPostBody) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostBody\r\n    }\r\n}\r\n\r\nexport let deletePostActionCreator = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    }\r\n}\r\n\r\nexport let setUserProfileActionCreator = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile: profile\r\n    }\r\n}\r\n\r\nexport let setStatusActionCreator = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status: status\r\n    }\r\n}\r\n\r\nexport let setPhotoActionCreator = (photo) => {\r\n    return {\r\n        type: SET_PHOTO,\r\n        payload: photo\r\n    }\r\n}\r\n\r\nexport let getStatusThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await usersAPI.getStatus(userId)\r\n            dispatch(setStatusActionCreator(response.data))\r\n        }\r\n}\r\n\r\nexport let updateStatusThunkCreator = (status) => {\r\n    return async (dispatch) => {\r\n        let response = await usersAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0){\r\n                dispatch(setStatusActionCreator(status))\r\n            }\r\n        }\r\n}\r\n\r\nexport const setUsersProfileThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await usersAPI.getProfile(userId)\r\n            dispatch(setUserProfileActionCreator(response.data));\r\n    }\r\n}\r\n\r\nexport const savePhotoThunkCreator = (file) => async dispatch => {\r\n    let response = await usersAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0){\r\n        dispatch(setPhotoActionCreator(response.data.photos))\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n"]},"metadata":{},"sourceType":"module"}